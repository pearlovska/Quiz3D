/* === Reset & Base === */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; overflow-x: hidden; }
body {
  font-family: 'Inter', sans-serif;
  background: #0a0a0f;
  color: #e0e0ff;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at center, #1a1a2e 0%, #0a0a0f 100%);
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* === Kontener === */
.container {
  position: relative;
  width: 100%;
  max-width: 520px;
  min-height: 100vh;
  padding: clamp(1rem, 5vw, 2rem);
  margin: 0 auto;
  perspective: 1000px;
  display: flex;
  flex-direction: column;
  localidad: center;
}

/* === Tło animowane === */
.glow, .result-glow, .reward-glow {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  pointer-events: none;
  z-index: 0;
  opacity: 0.7;
}
.glow { width: 280px; height: 280px; top: -80px; left: -80px; background: radial-gradient(circle, rgba(138, 43, 226, 0.4), transparent 70%); animation: pulse 6s infinite alternate; }
.result-glow { width: 380px; height: 380px; top: 50%; left: 50%; transform: translate(-50%, -50%); background: radial-gradient(circle, rgba(100, 200, 255, 0.4), transparent 70%); animation: pulseResult 4s infinite alternate; }
.reward-glow { width: 480px; height: 480px; top: 50%; left: 50%; transform: translate(-50%, -50%); background: radial-gradient(circle, rgba(138, 43, 226, 0.6), rgba(100, 200, 255, 0.4), transparent); animation: pulseReward 3s infinite; }

@keyframes pulse { 0% { transform: scale(0.9); opacity: 0.5; } 100% { transform: scale(1.3); opacity: 0.8; } }
@keyframes pulseResult { 0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; } 100% { transform: translate(-50%, -50%) scale(1.4); opacity: 0.9; } }
@keyframes pulseReward { 0% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; } 100% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; } }

/* === Ekrany – ANIMACJE PRZEJŚĆ === */
.screen {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transform: translateY(30px) scale(0.92);
  transition: all 0.7s cubic-bezier(0.2, 0.8, 0.2, 1);
  z-index: 1;
  padding: 1rem;
}
.screen.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}
.screen.active .glow,
.screen.active .result-glow,
.screen.active .reward-glow {
  animation: screenEnterGlow 1.2s ease-out forwards;
}
@keyframes screenEnterGlow {
  0% { opacity: 0; transform: scale(0.8); }
  50% { opacity: 0.9; }
  100% { opacity: 0.7; transform: scale(1); }
}

/* === Typografia === */
.title, .reward-title {
  font-family: 'Audiowide', sans-serif;
  font-size: clamp(2.5rem, 8vw, 3.5rem);
  font-weight: 700;
  background: linear-gradient(135deg, #8a2be2, #64c8ff);
  -webkit-background-clip: text; background-clip: text;
  color: transparent;
  margin-bottom: 0.5rem;
  text-align: center;
  z-index: 2;
}
.highlight { background: linear-gradient(135deg, #64c8ff, #8a2be2); -webkit-background-clip: text; color: transparent; }
.subtitle, .reward-subtitle {
  font-size: clamp(1rem, 3.5vw, 1.1rem);
  color: #a0a0cc;
  margin-bottom: 1.5rem;
  text-align: center;
  z-index: 2;
}
.reward-title { animation: titleGlow 2s infinite alternate; }
@keyframes titleGlow {
  0% { text-shadow: 0 0 20px rgba(138, 43, 226, 0.6); }
  100% { text-shadow: 0 0 40px rgba(100, 200, 255, 0.8), 0 0 60px rgba(138, 43, 226, 0.5); }
}

/* === Logo === */
.university-logo {
  width: clamp(120px, 35vw, 180px);
  height: auto;
  margin-bottom: 1.2rem;
  filter: drop-shadow(0 0 10px rgba(138, 43, 226, 0.6)) drop-shadow(0 0 20px rgba(100, 200, 255, 0.4));
  transition: all 0.4s ease;
  z-index: 2;
  animation: logoPulse 4s infinite alternate;
}
.university-logo:hover { transform: scale(1.05); }
@keyframes logoPulse { 0% { transform: scale(1); } 100% { transform: scale(1.02); } }

/* === Przyciski === */
.btn-primary, .btn-secondary {
  width: 100%;
  max-width: 280px;
  height: 52px;
  padding: 0 1.5rem;
  font-size: 1rem;
  font-weight: 600;
  border: none;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.25s ease;
  position: relative;
  overflow: hidden;
  z-index: 2;
  margin: 1rem auto 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #8a2be2, #64c8ff);
  color: white;
  box-shadow: 0 8px 20px rgba(138, 43, 226, 0.4);
}
.btn-primary:hover, .btn-secondary:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(138, 43, 226, 0.6); }
.btn-primary:active, .btn-secondary:active:not(:disabled) { transform: scale(0.95); box-shadow: 0 4px 12px rgba(138, 43, 226, 0.5); }
.btn-secondary { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); }
.btn-secondary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

/* === Pasek postępu === */
.progress-container { width: 100%; max-width: 400px; height: 6px; background: rgba(255, 255, 255, 0.1); border-radius: 3px; overflow: hidden; margin: 0 auto 1rem; }
.progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, #8a2be2, #64c8ff); border-radius: 3px; transition: width 0.6s ease; position: relative; }
.progress-bar::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); animation: shimmer 2s infinite; }
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

/* === Pytanie i licznik === */
.question-counter { font-size: 0.9rem; color: #8888aa; margin-bottom: 0.8rem; }
.question { font-size: clamp(1.2rem, 4.5vw, 1.5rem); font-weight: 600; text-align: center; margin: 1rem 0 1.5rem; color: #e0e0ff; line-height: 1.5; }

/* === Opcje === */
.options-grid { width: 100%; max-width: 400px; display: grid; gap: 0.9rem; grid-template-columns: 1fr; margin: 1rem auto; }
.option {
  padding: 1.2rem 1.4rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(8px);
  text-align: center;
  font-size: 1rem;
  line-height: 1.4;
  position: relative;
  overflow: hidden;
}
.option:hover { background: rgba(138, 43, 226, 0.15); border-color: #8a2be2; transform: translateY(-3px); box-shadow: 0 8px 20px rgba(138, 43, 226, 0.2); }
.option:active { transform: scale(0.97); }
.option.selected { background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(100, 200, 255, 0.3)); border-color: #8a2be2; color: white; font-weight: 600; }
.option.correct { background: linear-gradient(135deg, rgba(0, 255, 150, 0.3), rgba(0, 200, 100, 0.3)); border-color: #00ff96; color: #00ff96; animation: correctPulse 0.6s ease; }
.option.incorrect { background: linear-gradient(135deg, rgba(255, 50, 50, 0.3), rgba(200, 0, 0, 0.3)); border-color: #ff3366; color: #ff6699; }
@keyframes correctPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }

/* === Wynik === */
.result-title { font-family: 'Audiowide', sans-serif; font-size: clamp(2rem, 7vw, 2.5rem); margin-bottom: 1.2rem; background: linear-gradient(135deg, #8a2be2, #64c8ff); -webkit-background-clip: text; color: transparent; }
.score-circle { position: relative; width: clamp(120px, 40vw, 180px); height: clamp(120px, 40vw, 180px); margin: 1.5rem auto; }
#score-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: clamp(1.8rem, 6vw, 2.2rem); font-weight: 700; font-family: 'Audiowide', sans-serif; background: linear-gradient(135deg, #8a2be2, #64c8ff); -webkit-background-clip: text; color: transparent; }
.circle-bg { fill: none; stroke: rgba(255, 255, 255, 0.1); stroke-width: 3; }
.circle-progress { fill: none; stroke: url(#gradient); stroke-width: 3.5; stroke-linecap: round; transform: rotate(-90deg); transform-origin: 50% 50%; transition: stroke-dasharray 1.2s ease; }
.result-message { font-size: clamp(1rem, 3.5vw, 1.1rem); text-align: center; max-width: 90%; margin: 1.2rem auto; color: #a0d0ff; line-height: 1.6; }